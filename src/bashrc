# Modern Bash Configuration
# Clean, fast, and maintainable

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

# History settings
HISTSIZE=10000
HISTFILESIZE=20000
HISTCONTROL=ignoredups:ignorespace
shopt -s histappend

# Update window size after each command
shopt -s checkwinsize

# Enable globstar for recursive globbing (**)
shopt -s globstar 2> /dev/null

# Make less more friendly for non-text input files
[[ -x /usr/bin/lesspipe ]] && eval "$(SHELL=/bin/sh lesspipe)"

# Load common shell environment (shared with zsh)
source ~/.shell_env

# Set prompt (Starship)
eval "$(starship init bash)"

# Load FZF keybindings if available
[[ -f ~/.fzf.bash ]] && source ~/.fzf.bash

# Direnv integration
if command -v direnv &> /dev/null; then
  eval "$(direnv hook bash)"
fi
